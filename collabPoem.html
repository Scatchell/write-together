<head>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<title>collabPoem</title>
</head>

<body>
    {{> header }}
    <div class="container">
    <div class="row">
        <h1>Collaboratively create a poem!</h1>
        <div id="poem-table" class="col s7">
                {{#each lines}}
                    <div class="row">
                            {{#if currentUser}}
                                <div class="col s1">
                                    {{> replacementLine}}
                                </div>
                            {{/if}}
                        <div class="col s11">
                            <div id="replacement-line-{{index}}" class="row replacement-line">
                                <div class="col s12">
                                    <div id="input-field-row" class="row">
                                    <div class="input-field col s11">
                                        <input id="replacement-line-text-{{index}}" class="replacement-line-text" type="text">
                                        <label for="replacement-line-text-{{index}}">Enter suggested replacement line here...</label>
                                    </div>
                                    <div id="add-replacement-line" class="col s1">
                                        <a id="add-replacement-line-link" href="#">
                                            <i class="material-icons">add</i>
                                        </a>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            {{> line}}
                        </div>
                    </div>
                {{/each}}

                {{#if currentUser}}
                <div id="new-line" class="row">
                    <div class="input-field col s11">
                        <input id="new-line-text" type="text">
                        <label for="new-line-text">Add next line here...</label>
                    </div>
                    <a id="add-new-line-link" class="btn-floating btn waves-effect waves-light green">
                        <i class="material-icons">add</i>
                    </a>
                </div>
                {{/if}}
        </div>

        <div id="poem-1" class="poem-text right col s4">
            <div class="poem-title-text">
                Stopping by Woods on a Snowy Evening, by Robert Frost
            </div>
            Whose woods these are I think I know.
            His house is in the village, though;
            He will not see me stopping here
            To watch his woods fill up with snow.
            My little horse must think it queer
            To stop without a farmhouse near
            Between the woods and frozen lake
            The darkest evening of the year.

            He gives his harness bells a shake
            To ask if there is some mistake.
            The only other sound's the sweep
            Of easy wind and downy flake.
            The woods are lovely, dark and deep,
            But I have promises to keep,
            And miles to go before I sleep,
            And miles to go before I sleep.
        </div>

        <div id="poem-2" class="poem-text right col s4">
            <div class="poem-title-text">
                Be Glad Your Nose is on Your Face, by Jack Prelutsky
            </div>
            Be glad your nose is on your face,
            not pasted on some other place,
            for if it were where it is not,
            you might dislike your nose a lot.

            Imagine if your precious nose
            were sandwiched in between your toes,
            that clearly would not be a treat,
            for you'd be forced to smell your feet.

            Your nose would be a source of dread
            were it attached atop your head,
            it soon would drive you to despair,
            forever tickled by your hair.

            Within your ear, your nose would be
            an absolute catastrophe,
            for when you were obliged to sneeze,
            your brain would rattle from the breeze.

            Your nose, instead, through thick and thin,
            remains between your eyes and chin,
            not pasted on some other place--
            be glad your nose is on your face!
        </div>
    </div>

    </div>

</body>

<template name="line">
    <div class="main-line row">
        <div class="line-text col s9">{{text}}</div>
        <div id="line-meta-data" class="col s3">
            {{#if isAlternative}}
                <span class="favorite-up right">
                    <a href="#">+ ({{favorites}})</a>
                </span>
            {{/if}}
            <span class="line-user right">({{userName}})</span>
        </div>
    </div>

    {{#unless isAlternative}}
        <div class="alternative-lines">
            {{#each alternatives}}
            {{>line }}
            {{/each}}
        </div>
    {{/unless}}
</template>

<template name="replacementLine">
    <div class="replace-line">
        <a href="#"><i class="material-icons">swap_horiz</i></a>
    </div>
</template>

<template name="header">
    <header>
        <nav class="green">
            <ul class="right hide-on-med-and-down">
                <li>
                    {{> userSignIn }}
                </li>
                <li><a data-activates="slide-out" id="side-menu" class="button-collapse show-on-large" href="#!">Show some poem suggestions...</a></li>
            </ul>
            <ul id="slide-out" class="side-nav">
                <li><a id="poem-1-title" href="#!">Stopping by Woods on a Snowy Evening: Robert Frost</a></li>
                <li><a id="poem-2-title" href="#!">Be Glad Your Nose is on Your Face: Jack Prelutsky</a></li>
                <li><a id="clear-all-poem-examples" href="#!">(Clear all examples)</a></li>
            </ul>
        </nav>
    </header>
</template>

<template  name="userSignIn">
    {{#unless currentUser}}
    <li>
        <div id="sign-in-reminder" class="col card-panel orange valign-wrapper">
            <span class="white-text valign">
                Sign in or quickly create an account with the link to the right to be able to add a line! >>
            </span>
        </div>
    </li>
    {{/unless}}
    <li>
        <div >{{> loginButtons }}</div>
    </li>
</template>
